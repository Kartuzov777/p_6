{% extends 'news/default.html' %}
{% load custom_filters %}

{% block content %}
  <h2>Поиск новостей</h2>
  <form method="get">
    {{ filter.form.as_p }}
    <button type="submit">Найти</button>
  </form>

  <hr>
  {% for post in posts %}
    <div>
      <h3>{{ post.title|censor }}</h3>
      <p>{{ post.created_at|date:"d.m.Y" }}</p>
      <p>{{ post.content|truncatechars:20|censor }}</p>
    </div>
    <hr>
  {% empty %}
    <p>Ничего не найдено.</p>
  {% endfor %}
{% endblock %}